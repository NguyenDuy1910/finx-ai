Query Episode:
Natural Language: {{ natural_language }}
Generated SQL: {{ generated_sql }}
Tables Used: {{ tables_used | join(', ') }}
Database: {{ database }}
Intent: {{ intent }}
Success: {{ success }}
{% if user_feedback %}
User Feedback: {{ user_feedback }}
{% endif %}

{% if similar_past_episodes %}
Similar Past Episodes:
{% for ep in similar_past_episodes %}
- {{ ep.fact }}
{% endfor %}
{% endif %}

Analyze this query episode and identify any new knowledge to store. List new terms, entity mappings, or patterns discovered.

